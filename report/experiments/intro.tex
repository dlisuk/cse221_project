We developed a general wrapper program which calls an experiment specific inlined function.
This allows all of our experiments to share the number of running times, the statistic computation code and other things.
The basic code is shown below.

\begin{verbatim}
void setup();
void teardown();
unsigned long measure();

int main(void){
  int trial;
  unsigned int delta; // measurement

  df = fopen(exp_file_data_name, "w");

  setup(); // initialize environment for experiment
  for(trial = 0; trial < MAX_N; ++trial) {
    delta = measure();
    fprintf(df, "%ul\n", delta);
  }
  teardown();
  fclose(df);
}
\end{verbatim}

\subsubsection{Computing Results}

The {\tt setup}, {\tt teardown}, and {\tt measure} functions are implemented separately for each experiment. {\tt setup} sets up the environment necessary to run the experiment, and {\tt teardown} handles any cleaning up that needs to be done afterwards. {\tt measure} returns the measurement for each trial. We will give approximate c code for each of these experiments, but some details may be missing. We will include full code for each experiment at the end of this report.
\newline
\newline
Not all of the experiments were able to make use of this framework. We will explicitly identify which experiments these were in the report. Unless otherwise stated, assume that an experiment made use of this framework. Also, for those experiments that did use this framework, not all needed to implement the {\tt setup} and {\tt teardown} methods. Pseudocode for these will only be given when the experiment needed these.
\newline
\newline
We run each test 4978 times and report mean/standard deviation. We first take 5000 measurements, but then exclude the first 2 trials, as well as the highest 20 datapoints, before calculating the mean and variance. This is done to exclude inaccurate data collected as the experiment ``warms up" (ie, loads relevant pages into memory, code and data into L1 cache, etc.), as well as gross outliers from context switches and other interferences.
\newline
\newline
Each datapoint is collected and written to an output file for offline processing.

\subsubsection{Getting Time}
All time measurements in this report are in terms of cycles. Each cycle takes approximately 1.4 ns. We used two macros, {\tt reset} and {\tt GET\_HIGH}, to reset and read the cycle counter into a variable, respectively. We measured the overhead.

\subsubsection{Compilation}
We use gcc version 4.8.3 with the flag -O0 to prevent optimization.